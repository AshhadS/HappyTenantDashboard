import _ from"./DVqx1czq.js";import{K as k,bj as c,f as b,y as i,z as d,a4 as y,X as m,a7 as H,D as v,a3 as g,a5 as D,a2 as f}from"./lfEe78_M.js";import{s as I}from"./CMRsb9FE.js";import{s as A}from"./jc0MLXVe.js";import"./CLs7nh7g.js";import"./B-nCXWUG.js";import"./tcbrm6GC.js";import"./DvyFFv06.js";import"./CdFyvRd5.js";import"./Cd6tfXYu.js";import"./ZhWAdK_X.js";import"./CrgP9iKf.js";import"./CQh6GI_6.js";import"./ImWdU7o0.js";import"./D7Cd6ZLw.js";import"./CTPLojrz.js";var L=k.extend({name:"dynamicdialog"}),C={name:"BaseDynamicDialog",extends:I,props:{},style:L,provide:function(){return{$pcDynamicDialog:this,$parentInstance:this}}},x={name:"DynamicDialog",extends:C,inheritAttrs:!1,data:function(){return{instanceMap:{}}},openListener:null,closeListener:null,currentInstance:null,mounted:function(){var t=this;this.openListener=function(u){var s=u.instance,a=A()+"_dynamic_dialog";s.visible=!0,s.key=a,t.instanceMap[a]=s},this.closeListener=function(u){var s=u.instance,a=u.params,l=s.key,o=t.instanceMap[l];o&&(o.visible=!1,o.options.onClose&&o.options.onClose({data:a,type:"config-close"}),t.currentInstance=o)},c.on("open",this.openListener),c.on("close",this.closeListener)},beforeUnmount:function(){c.off("open",this.openListener),c.off("close",this.closeListener)},methods:{onDialogHide:function(t){!this.currentInstance&&t.options.onClose&&t.options.onClose({type:"dialog-close"})},onDialogAfterHide:function(t){this.currentInstance&&delete this.currentInstance,this.currentInstance=null,delete this.instanceMap[t.key]},getTemplateItems:function(t){return Array.isArray(t)?t:[t]}},components:{DDialog:_}};function B(n,t,u,s,a,l){var o=b("DDialog");return i(!0),d(g,null,y(a.instanceMap,function(e,h){return i(),m(o,f({key:h,visible:e.visible,"onUpdate:visible":function(r){return e.visible=r},_instance:e},{ref_for:!0},e.options.props,{onHide:function(r){return l.onDialogHide(e)},onAfterHide:function(r){return l.onDialogAfterHide(e)}}),H({default:v(function(){return[(i(),m(D(e.content),f({ref_for:!0},e.options.emits),null,16))]}),_:2},[e.options.templates&&e.options.templates.header?{name:"header",fn:v(function(){return[(i(!0),d(g,null,y(l.getTemplateItems(e.options.templates.header),function(p,r){return i(),m(D(p),f({key:r+"_header"},{ref_for:!0},e.options.emits),null,16)}),128))]}),key:"0"}:void 0,e.options.templates&&e.options.templates.footer?{name:"footer",fn:v(function(){return[(i(!0),d(g,null,y(l.getTemplateItems(e.options.templates.footer),function(p,r){return i(),m(D(p),f({key:r+"_footer"},{ref_for:!0},e.options.emits),null,16)}),128))]}),key:"1"}:void 0]),1040,["visible","onUpdate:visible","_instance","onHide","onAfterHide"])}),128)}x.render=B;export{x as default};
